<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
        <title>Blank App</title>
    </head>
    <body>
    <form >
    	Eninov Id:<input type="email" name="username" id="username"><br>
    	Password:<input type="password" name="password" id="password"><br>
    	<input type="submit" name="button" value="Login" onclick="AddValueToDB()">
    </form>
    <button onclick="ListDBValues()">Display</button>
    <div id="print"></div>
   <script type="text/javascript" charset="utf-8">

// global variables
var db;
var shortName = 'WebSqlDB';
var version = '1.0';
var displayName = 'WebSqlDB';
var maxSize = 65535;

// this is called when an error happens in a transaction
function errorHandler(transaction, error) {
   alert('Error: ' + error.message + ' code: ' + error.code);

}

// this is called when a successful transaction happens
function successCallBack() {
   alert("DEBUGGING: success");

}

function nullHandler(){};

// called when the application loads
function onBodyLoad(){

alert("DEBUGGING: we are in the onBodyLoad() function");

 if (!window.openDatabase) {
  
   alert('Databases are not supported in this browser.');
   return;
 }


 db = openDatabase(shortName, version, displayName,maxSize);

 db.transaction(function(tx){

   tx.executeSql( 'CREATE TABLE IF NOT EXISTS User(UserId INTEGER NOT NULL PRIMARY KEY, Username TEXT NOT NULL, Password TEXT NOT NULL)',
[],nullHandler,errorHandler);
 },errorHandler,successCallBack);

}


function ListDBValues() {

 if (!window.openDatabase) {
  alert('Databases are not supported in this browser.');
  return;
 }


 db.transaction(function(transaction) {
   transaction.executeSql('SELECT * FROM User;', [],
     function(transaction, result) {
      if (result != null && result.rows != null) {
        for (var i = 0; i < result.rows.length; i++) {
          var row = result.rows.item(i);
          $('#print').append('<br>' + row.UserId + '. ' +
row.Username+ ' ' + row.Password);
        }
      }
     },errorHandler);
 },errorHandler,nullHandler);

 return;

}


function AddValueToDB() {

 if (!window.openDatabase) {
   alert('Databases are not supported in this browser.');
   return;
 }


 db.transaction(function(transaction) {
   transaction.executeSql('INSERT INTO User(Username, Password)
VALUES (?,?)',[$('#username').val(), $('#password').val()],
     nullHandler,errorHandler);
   });


 ListDBValues();

 return false;

}

</script>
        <script type="text/javascript" src="cordova.js"></script>
    </body>
</html>
